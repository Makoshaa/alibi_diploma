# API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ë–∞–∑–æ–≤—ã–π URL

- **Development:** `https://localhost:5000/api`
- **Production:** `https://yourdomain.com/api`

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ HttpOnly cookies. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã.

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

**POST** `/api/auth/register`

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "password123",
  "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "role": "EMPLOYEE"
}
```

**Response (201):**
```json
{
  "user": {
    "id": "uuid",
    "email": "user@example.com",
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "role": "EMPLOYEE",
    "isActive": true
  },
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `409` - Email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

---

### –í—Ö–æ–¥

**POST** `/api/auth/login`

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Request Body:**
```json
{
  "email": "admin@mail.ru",
  "password": "admin123"
}
```

**Response (200):**
```json
{
  "user": {
    "id": "uuid",
    "email": "admin@mail.ru",
    "fullName": "Administrator",
    "role": "ADMIN",
    "isActive": true
  }
}
```

**Cookies:**
- `token` - JWT —Ç–æ–∫–µ–Ω (HttpOnly, Secure, SameSite=Strict)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `401` - –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `403` - –£—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞

---

### –í—ã—Ö–æ–¥

**POST** `/api/auth/logout`

–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (–æ—á–∏—Å—Ç–∫–∞ cookie).

**Response (200):**
```json
{
  "message": "–í—ã—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"
}
```

---

### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**GET** `/api/auth/me`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

**Headers:**
```
Cookie: token=<jwt-token>
```

**Response (200):**
```json
{
  "id": "uuid",
  "email": "user@example.com",
  "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "role": "EMPLOYEE",
  "isActive": true,
  "createdAt": "2025-01-01T00:00:00.000Z",
  "updatedAt": "2025-01-01T00:00:00.000Z"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

---

## üë§ –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å (`/api/attendance`)

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª–∏—Ü–∞

**POST** `/api/attendance/register-face`

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ –ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Headers:**
```
Cookie: token=<jwt-token>
Content-Type: application/json
```

**Request Body:**
```json
{
  "descriptor": [0.123, -0.456, 0.789, ...],  // 128-–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤
  "userId": "uuid"  // –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

**Response (200):**
```json
{
  "success": true,
  "message": "–õ–∏—Ü–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `404` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

---

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è

**POST** `/api/attendance/verify`

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ –ø–æ—Å–µ—â–µ–Ω–∏–∏.

**Headers:**
```
Cookie: token=<jwt-token>
Content-Type: application/json
```

**Request Body:**
```json
{
  "descriptor": [0.123, -0.456, 0.789, ...],  // 128-–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤
  "livenessScore": 0.95,
  "type": "CHECK_IN"  // –∏–ª–∏ "CHECK_OUT"
}
```

**Response (200):**
```json
{
  "success": true,
  "confidence": 0.87,
  "user": {
    "id": "uuid",
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "user@example.com"
  },
  "attendance": {
    "id": "uuid",
    "type": "CHECK_IN",
    "confidence": 0.87,
    "livenessScore": 0.95,
    "createdAt": "2025-01-01T09:00:00.000Z"
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ liveness check –Ω–µ –ø—Ä–æ–π–¥–µ–Ω
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `404` - –õ–∏—Ü–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- `403` - –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è

---

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

**GET** `/api/attendance`

–ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏.
- –ê–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏

**Query Parameters:**
```
?userId=uuid  // –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
&startDate=2025-01-01  // –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞
&endDate=2025-01-31  // –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞
&type=CHECK_IN  // –¢–∏–ø: CHECK_IN –∏–ª–∏ CHECK_OUT
&limit=50  // –õ–∏–º–∏—Ç –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
&offset=0  // –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
```

**Response (200):**
```json
{
  "attendances": [
    {
      "id": "uuid",
      "type": "CHECK_IN",
      "confidence": 0.87,
      "livenessScore": 0.95,
      "createdAt": "2025-01-01T09:00:00.000Z",
      "user": {
        "id": "uuid",
        "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "email": "user@example.com"
      }
    },
    ...
  ],
  "total": 150,
  "limit": 50,
  "offset": 0
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

---

### –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

**DELETE** `/api/attendance/:id`

–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã).

**Headers:**
```
Cookie: token=<jwt-token>
```

**Response (200):**
```json
{
  "message": "–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞",
  "id": "uuid"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ –∞–¥–º–∏–Ω)
- `404` - –ó–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

## üë®‚Äçüíº –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (`/api/admin`)

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**GET** `/api/admin/users`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã).

**Query Parameters:**
```
?search=–∏–≤–∞–Ω  // –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email
&role=EMPLOYEE  // –§–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏
&isActive=true  // –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
&limit=50
&offset=0
```

**Response (200):**
```json
{
  "users": [
    {
      "id": "uuid",
      "email": "user@example.com",
      "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
      "role": "EMPLOYEE",
      "isActive": true,
      "createdAt": "2025-01-01T00:00:00.000Z",
      "hasFaceDescriptor": true,
      "_count": {
        "attendances": 45
      }
    },
    ...
  ],
  "total": 100,
  "limit": 50,
  "offset": 0
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ –∞–¥–º–∏–Ω)

---

### –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**POST** `/api/admin/users`

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã).

**Request Body:**
```json
{
  "email": "newuser@example.com",
  "password": "password123",
  "fullName": "–ù–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
  "role": "EMPLOYEE"
}
```

**Response (201):**
```json
{
  "user": {
    "id": "uuid",
    "email": "newuser@example.com",
    "fullName": "–ù–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "role": "EMPLOYEE",
    "isActive": true,
    "createdAt": "2025-01-01T00:00:00.000Z"
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ –∞–¥–º–∏–Ω)
- `409` - Email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

---

### –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**PUT** `/api/admin/users/:id`

–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã).

**Request Body:**
```json
{
  "email": "newemail@example.com",
  "fullName": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ò–º—è",
  "role": "ADMIN",
  "isActive": false,
  "password": "newpassword123"  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

**Response (200):**
```json
{
  "user": {
    "id": "uuid",
    "email": "newemail@example.com",
    "fullName": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ò–º—è",
    "role": "ADMIN",
    "isActive": false,
    "updatedAt": "2025-01-01T00:00:00.000Z"
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ –∞–¥–º–∏–Ω)
- `404` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `409` - Email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

---

### –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**DELETE** `/api/admin/users/:id`

–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã).

**Response (200):**
```json
{
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω",
  "id": "uuid"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ –∞–¥–º–∏–Ω) –∏–ª–∏ –ø–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è
- `404` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

### –°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ª–∏—Ü–∞

**POST** `/api/admin/users/:id/reset-face`

–£–¥–∞–ª–∏—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–∏—Ü–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã).

**Response (200):**
```json
{
  "message": "–î–∞–Ω–Ω—ã–µ –ª–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω—ã",
  "userId": "uuid"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ –∞–¥–º–∏–Ω)
- `404` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

## üè• –°–ª—É–∂–µ–±–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è

**GET** `/api/health`

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç.

**Response (200):**
```json
{
  "status": "ok"
}
```

---

## –û–±—â–∏–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 400 | Bad Request - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ |
| 401 | Unauthorized - –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| 403 | Forbidden - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ |
| 404 | Not Found - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 409 | Conflict - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) |
| 500 | Internal Server Error - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

## –§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "details": {
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏, –µ—Å–ª–∏ –µ—Å—Ç—å
  }
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### cURL

#### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

```bash
curl -X POST https://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@mail.ru","password":"admin123"}' \
  -c cookies.txt \
  -k
```

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
curl https://localhost:5000/api/auth/me \
  -b cookies.txt \
  -k
```

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–º–∏–Ω)

```bash
curl https://localhost:5000/api/admin/users \
  -b cookies.txt \
  -k
```

### JavaScript (Axios)

```javascript
import axios from 'axios';

const api = axios.create({
  baseURL: 'https://localhost:5000/api',
  withCredentials: true,
  httpsAgent: new https.Agent({
    rejectUnauthorized: false // —Ç–æ–ª—å–∫–æ –¥–ª—è development
  })
});

// –í—Ö–æ–¥
const login = async () => {
  const response = await api.post('/auth/login', {
    email: 'admin@mail.ru',
    password: 'admin123'
  });
  return response.data;
};

// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const getCurrentUser = async () => {
  const response = await api.get('/auth/me');
  return response.data;
};

// –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
const verifyFace = async (descriptor, livenessScore) => {
  const response = await api.post('/attendance/verify', {
    descriptor,
    livenessScore,
    type: 'CHECK_IN'
  });
  return response.data;
};
```

---

## –õ–∏–º–∏—Ç—ã

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞: **15 MB**
- –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –ª–∏—Ü–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º –∏–∑ **128 float —á–∏—Å–µ–ª**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: **0.6**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∂–∏–≤–æ—Å—Ç–∏: **0.5**

---

## Rate Limiting

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ rate limiting –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω. –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.
